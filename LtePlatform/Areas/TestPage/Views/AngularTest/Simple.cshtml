
@{
    ViewBag.Title = "Simple AngularJS Test";
}

<div class="row">
    <div class="col-md-4">
        @{ 
            Html.RenderPartial("_QUnitTestContents");
        }
    </div>
    <div class="col-md-8">
        <h2>@ViewBag.Title</h2>
        <div data-ng-app="simpleAngular">
            <h3>简单类型测试</h3>
            <div ng-controller="SimpleTypeController">
                A={{simpleA}}&nbsp;
                B={{simpleB}}
            </div>  
            <h3>时钟控制器</h3>  
            <div ng-controller="ClockController">
                <span>Hello {{clock}}</span>
            </div>  
            <h3>简单加减法</h3>  
            <div ng-controller="AddController">
                <button ng-click="add(1)" class="btn btn-primary">加1</button>
                <button ng-click="subtract(1)" class="btn btn-danger">减1</button>
                <h4>Current count: {{ counter }}</h4>
            </div>    
        </div>
    </div>
</div>

@section Scripts
{
    <script src="~/Scripts/angular.js"></script>
    <script>
        (function () {
            var app = angular.module("simpleAngular", []);
            var SimpleTypeController = function ($scope) {
                $scope.simpleA = 1;
                $scope.simpleB = 2;
            }
            app.controller("SimpleTypeController", SimpleTypeController);

            var ClockController = function ($scope, $timeout) {
                var updateClock = function () {
                    $scope.clock = new Date();
                    $timeout(function () {
                        updateClock();
                    }, 1000);
                };
                updateClock();
            };
            app.controller("ClockController", ClockController);

            var AddController = function ($scope) {
                $scope.counter = 0;
                $scope.add = function (amount) { $scope.counter += amount; };
                $scope.subtract = function (amount) { $scope.counter -= amount; };
            };
            app.controller("AddController", AddController);
        }());
    </script>
}

